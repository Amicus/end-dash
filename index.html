<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>End Dash</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/reset.css">

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">

        <link rel="stylesheet" href="css/style.css">
        <link href='http://fonts.googleapis.com/css?family=Lato:300,400' rel='stylesheet' type='text/css'>
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <nav>
            <div class="logoWrapper">
              <h1>
                  END DASH
              </h1>
              <div class="logoDash"></div>
              <div class="nameDash"></div>
            </div>

            <div class="navigation">
                <ul>
                    <li><a href="#getting-started">Getting started</a></li>
                    <li><a href="#templating-from-models">Templating from models</a></li>
                    <li><a href="#building-and-testing">Building and testing</a></li>
                    <li><a href="#play-with-examples">Play with examples</a></li>

                    <li><a href="#using-model-attributes">Using Model Attributes</a>
                        <ul>
                            <li><a href="#variables">Variables</a></li>
                            <li><a href="#attribute-interpolation">Attribute Interpolation</a></li>
                        </ul>
                    </li>
                    <li><a href="#inputs">Inputs</a>
                        <ul>
                            <li><a href="#text-inputs">Text Inputs</a></li>
                            <li><a href="#radio-buttons">Radio Buttons</a></li>
                            <li><a href="#checkboxes">Checkboxes</a></li>
                        </ul>
                    </li>
                    <li><a href="#looping">Looping</a>
                        <ul>
                            <li><a href="#simple-looping">Simple Looping</a></li>
                            <li><a href="#polymorphic-attributes">Polymorphic Attributes</a></li>
                            <li><a href="#collection-attributes">Collection Attributes</a></li>
                        </ul>
                    </li>
                    <li><a href="#conditionals">Conditionals</a>
                        <ul>
                            <li><a href="#ternary">Ternary</a></li>
                            <li><a href="#visibility-conditionals">Visibility Conditionals</a></li>
                        </ul>
                    </li>
                    <li><a href="#scoping">Scoping</a>
                        <ul>
                            <li><a href="#what-is-scoping">What is scoping?</a></li>
                            <li><a href="#scoping-down-with-a-dash">Scoping Down with a Dash</a></li>
                            <li><a href="#scoping-with-paths">Scoping With Paths</a></li>
                        </ul>
                    </li>
                    <li><a href="#presenters">Presenters</a></li>
                    <li><a href="#view-integration">View Integration</a></li>
                    <li><a href="#partials">Partials</a></li>
                    <li><a href="#debugger">Debugger</a></li>
                </ul>
            </div>
        </nav>

        <div class="container">
            <article class="markdown-body entry-content" itemprop="mainContentOfPage">
            <h1><a name="enddash" class="anchor" href="#enddash"><span class="octicon octicon-link"></span></a>EndDash</h1>

            <p>EndDash is a bindings-aware client-side templating language built on top of valid HTML.</p>

            <div class="hidden">
                    <p><a href="#getting-started">Getting started</a></p>

                    <p><a href="#templating-from-models">Templating from models</a></p>

                    <p><a href="#building-and-testing">Building and testing</a></p>

                    <p><a href="#play-with-examples">Play with examples</a></p>
            </div>

            <h2>
            <a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting started</h2>

            <p>Include the library and dependencies:</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
            <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://underscorejs.org/underscore.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
            <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://backbonejs.org/backbone.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
            <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/scripts/end-dash.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
            </pre></div>

            <h2>
            <a name="templating-from-models" class="anchor" href="#templating-from-models"><span class="octicon octicon-link"></span></a>Templating from models</h2>

            <p>Define your templates:</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/enddash"</span> <span class="na">name=</span><span class="s">"character"</span><span class="nt">&gt;</span>
              <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"user"</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
                  <span class="nx">Hello</span><span class="p">,</span> <span class="nx">my</span> <span class="nx">name</span> <span class="nx">is</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"firstName-"</span><span class="o">&gt;&lt;</span><span class="err">/span&gt;</span>
                  <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"lastName-"</span><span class="o">&gt;&lt;</span><span class="err">/span&gt;...</span>
                <span class="o">&lt;</span><span class="err">/p&gt;</span>

                <span class="o">&lt;</span><span class="nx">strong</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"quip-"</span><span class="o">&gt;&lt;</span><span class="err">/strong&gt;</span>
              <span class="o">&lt;</span><span class="err">/div&gt;</span>
            <span class="nt">&lt;/script&gt;</span>
            </pre></div>

            <p>Bind templates to models in your application code:</p>

            <div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
              <span class="c1">// Load all the templates on the page.</span>
              <span class="nx">EndDash</span><span class="p">.</span><span class="nx">bootstrap</span><span class="p">();</span>

              <span class="kd">var</span> <span class="nx">tony</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">({</span>
                <span class="nx">firstName</span><span class="o">:</span> <span class="s1">'Tony'</span><span class="p">,</span>
                <span class="nx">lastName</span><span class="o">:</span> <span class="s1">'Stark'</span><span class="p">,</span>
                <span class="nx">quip</span><span class="o">:</span> <span class="s2">"You know, the question I get asked most often is, 'Tony, how do you go to the bathroom in your suit?'"</span>
              <span class="p">});</span>

              <span class="kd">var</span> <span class="nx">template</span> <span class="o">=</span> <span class="nx">EndDash</span><span class="p">.</span><span class="nx">getTemplate</span><span class="p">(</span><span class="s1">'character'</span><span class="p">,</span> <span class="nx">tony</span><span class="p">);</span>

              <span class="nx">$</span><span class="p">(</span><span class="s1">'#content'</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">template</span><span class="p">.</span><span class="nx">el</span><span class="p">);</span>
            <span class="p">});</span>
            </pre></div>

            <p>If your model changes, the DOM updates!</p>

            <h2>
            <a name="building-and-testing" class="anchor" href="#building-and-testing"><span class="octicon octicon-link"></span></a>Building and testing</h2>

            <div class="highlight highlight-bash"><pre>npm install

            <span class="c"># We use grunt for running tasks.</span>
            npm install -g grunt-cli

            <span class="c"># Build end-dash in build/ directory</span>
            grunt build <span class="c"># also aliased as `grunt`</span>

            <span class="c"># Run tests</span>
            grunt <span class="nb">test</span>

            <span class="c"># Watch for changes and run tests</span>
            grunt watch
            </pre></div>

            <h2>
            <a name="play-with-examples" class="anchor" href="#play-with-examples"><span class="octicon octicon-link"></span></a>Play with examples</h2>

            <p>If you clone this repo and install grunt as described above
            you can play with some end-dash examples in your browser.
            Just type <code>grunt</code> in the root directory to build the current
            version of end-dash into the build directory, and then
            open up any of the example html files in the examples directory
            in your browser (<code>open examples/looping.html</code> for example works
            on OS X), and you can edit the templates or models directly in the
            html file if you want to experiment.</p>

            <p>You can also see some of them here:</p>
            <div id="attributes"></div>
            <div id="inputs"></div>
            <div id="inputs2"></div>
            <code id="template-edit" contenteditable>&lt;div&gt;&lt;!--Enter your own EndDash template here!--&gt;
            &lt;div class="isName-"&gt;Hi &lt;span class="name-"&gt;!&lt;/span&gt;&lt;/div&gt;
            &lt;div class="isNotName-"&gt;I don't know your name!&lt;/div&gt;&lt;/div&gt;
            </code>
            <br/>
            <code id="model-edit" contenteditable>new Backbone.Model({text: "Edit this Backbone Model by adding a name attribute to see the text below change!"})</code>
            <p> The results of your template and model or collection above can be previewed below:</p>
            <div id="user-edit"></div>

            <h1>
            <a name="using-model-attributes" class="anchor" href="#using-model-attributes"><span class="octicon octicon-link"></span></a>Using Model Attributes</h1>

            <h2>
            <a name="variables" class="anchor" href="#variables"><span class="octicon octicon-link"></span></a>Variables</h2>

            <p>EndDash variables are rendered into the body of HTML elements, displaying their values as ordinary text:</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"user-"</span><span class="nt">&gt;</span>
              My name is <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"firstName-"</span><span class="nt">&gt;&lt;/span&gt;</span> <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"lastName-"</span><span class="nt">&gt;&lt;/span&gt;</span>.
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <h2>
            <a name="attibute-interpolation" class="anchor" href="#attibute-interpolation"><span class="octicon octicon-link"></span></a>Attibute Interpolation</h2>

            <p>Model properties can also be interpolated into any html tag attribute.</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">'/person/#{firstName}'</span><span class="nt">&gt;</span> Home Page <span class="nt">&lt;/a&gt;</span>
            </pre></div>

            <div class="highlight highlight-js"><pre><span class="nx">template</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">new</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">({</span><span class="nx">firstName</span><span class="o">:</span> <span class="s1">'Derrick'</span><span class="p">}));</span>
            </pre></div>

            <p>Resulting Tag:</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">'/person/Derrick'</span><span class="nt">&gt;</span> Home Page <span class="nt">&lt;/a&gt;</span>
            </pre></div>

            <h1>
            <a name="inputs" class="anchor" href="#inputs"><span class="octicon octicon-link"></span></a>Inputs</h1>

            <p>EndDash does two-way binding between model attributes and input elements.</p>

            <h2>
            <a name="text-inputs" class="anchor" href="#text-inputs"><span class="octicon octicon-link"></span></a>Text Inputs</h2>

            <p>Text inputs are bound to a referenced attribute on the model in scope.
            To create this binding, add the attribute name with a dash at the end as a classname
            in the template.</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;p&gt;</span>
              What is your name?
              <span class="nt">&lt;input</span>  <span class="na">type=</span><span class="s">"text"</span> <span class="na">class=</span><span class="s">"name-"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/p&gt;</span>
            </pre></div>

            <h2>
            <a name="radio-buttons" class="anchor" href="#radio-buttons"><span class="octicon octicon-link"></span></a>Radio buttons</h2>

            <p>Radio buttons bind the selected button's value to the model's referenced attribute.</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;p&gt;</span>Who is your favorite character?<span class="nt">&lt;/p&gt;</span>
              <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"radio"</span> <span class="na">class=</span><span class="s">"name-"</span> <span class="na">name=</span><span class="s">"name-"</span> <span class="na">value=</span><span class="s">"tony"</span> <span class="na">id=</span><span class="s">"tony"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"tony"</span><span class="nt">&gt;</span>Tony<span class="nt">&lt;/label&gt;</span>
              <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"radio"</span> <span class="na">class=</span><span class="s">"name-"</span> <span class="na">name=</span><span class="s">"name-"</span> <span class="na">value=</span><span class="s">"pepper"</span> <span class="na">id=</span><span class="s">"pepper"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"pepper"</span><span class="nt">&gt;</span>Pepper<span class="nt">&lt;/label&gt;</span>
              <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"radio"</span> <span class="na">class=</span><span class="s">"name-"</span> <span class="na">name=</span><span class="s">"name-"</span> <span class="na">value=</span><span class="s">"james"</span> <span class="na">id=</span><span class="s">"james"</span><span class="nt">/&gt;</span>
              <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"james"</span><span class="nt">&gt;</span>James<span class="nt">&lt;/label&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <h2>
            <a name="checkboxes" class="anchor" href="#checkboxes"><span class="octicon octicon-link"></span></a>Checkboxes</h2>

            <p>Checkboxes are trickier. When unchecked, the referenced attribute on the model will
            be 'false'. When checked, the referenced model's attribute will be set to
            the attribute value on the input element (or 'true' if no value is defined).</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;p&gt;</span>Do you want to receive notifications about Iron Man?<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">name=</span><span class="s">"notifyList"</span> <span class="na">class=</span><span class="s">"notify-"</span> <span class="nt">/&gt;</span>
            </pre></div>

            <h1>
            <a name="looping" class="anchor" href="#looping"><span class="octicon octicon-link"></span></a>Looping</h1>

            <h2>
            <a name="simple-looping" class="anchor" href="#simple-looping"><span class="octicon octicon-link"></span></a>Simple Looping</h2>

            <p>EndDash lets you loop through objects in a collection.</p>

            <div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">characters</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Collection</span><span class="p">([</span>
              <span class="k">new</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">({</span>
                <span class="nx">firstName</span><span class="o">:</span> <span class="s1">'Tony'</span><span class="p">,</span>
                <span class="nx">lastName</span><span class="o">:</span> <span class="s1">'Stark'</span><span class="p">,</span>
                <span class="nx">role</span><span class="o">:</span> <span class="s1">'hero'</span>
              <span class="p">}),</span>

              <span class="k">new</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">({</span>
                <span class="nx">firstName</span><span class="o">:</span> <span class="s1">'Pepper'</span><span class="p">,</span>
                <span class="nx">lastName</span><span class="o">:</span> <span class="s1">'Potts'</span><span class="p">,</span>
                <span class="nx">role</span><span class="o">:</span> <span class="s1">'civilian'</span>
              <span class="p">}),</span>

              <span class="k">new</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">({</span>
                <span class="nx">firstName</span><span class="o">:</span> <span class="s1">'Iron'</span><span class="p">,</span>
                <span class="nx">lastName</span><span class="o">:</span> <span class="s1">'Monger'</span><span class="p">,</span>
                <span class="nx">role</span><span class="o">:</span> <span class="s1">'villain'</span>
              <span class="p">}),</span>

              <span class="k">new</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">({</span>
                <span class="nx">firstName</span><span class="o">:</span> <span class="s1">'James'</span><span class="p">,</span>
                <span class="nx">lastName</span><span class="o">:</span> <span class="s1">'Rhodes'</span><span class="p">,</span>
                <span class="nx">role</span><span class="o">:</span> <span class="s1">'hero'</span>
              <span class="p">})</span>
            <span class="p">]);</span>
            </pre></div>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"characters-"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">data-each</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"firstName-"</span><span class="nt">&gt;&lt;/div&gt;</span>
              <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <h2>
            <a name="polymorphic-attributes" class="anchor" href="#polymorphic-attributes"><span class="octicon octicon-link"></span></a>Polymorphic attributes</h2>

            <p>If your objects have an enum (or Enumerated type) field, you can specify handling based on
            which type it is. This is best explained with an example.</p>

            <p>In this case, <code>role</code> is behaving as a polymorphic attribute.</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"rolePolymorphic-"</span> <span class="na">data-each</span><span class="nt">&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"whenHero-"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"firstName-"</span><span class="nt">&gt;&lt;/span&gt;</span>
                says: Don't worry. I'll probably save you.
              <span class="nt">&lt;/div&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"whenVillain-"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"firstName-"</span><span class="nt">&gt;&lt;/span&gt;</span>
                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"lastName-"</span><span class="nt">&gt;&lt;/span&gt;</span>
                says: Worry.<span class="nt">&lt;/div&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"whenCivilian-"</span><span class="nt">&gt;</span>
               <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"firstName-"</span><span class="nt">&gt;&lt;/span&gt;</span>
               says: Get me outta here!
               <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <p>The resulting HTML will be:</p>

            <pre><code>&lt;div class="rolePolymorphic-" data-each&gt;
              &lt;div class="whenHero-"&gt;
                &lt;span class="firstName-"&gt;Tony&lt;/span&gt;
                says: Don't worry.  I'll probably save you.
              &lt;/div&gt;
              &lt;div class="whenCivilian-"&gt;
                &lt;span class="firstName-"&gt;Piper&lt;/span&gt;
                says: Get me outta here!
              &lt;/div&gt;
              &lt;div class="whenVillain-"&gt;
                &lt;span class="firstName-"&gt;Iron&lt;/span&gt;
                &lt;span class="lastName-"&gt;Monger&lt;/span&gt;
                says: Worry.
              &lt;/div&gt;
              &lt;div class="whenHero-"&gt;
                &lt;span class="firstName-"&gt;James&lt;/span&gt;
                says: Don't worry.  I'll probably save you.
              &lt;/div&gt;
            &lt;/div&gt;
            </code></pre>

            <p>To add a, catch-all, base case; add a child div without a
            class name ending in a dash.</p>

            <pre><code>&lt;div class='rolePolymorphic-'&gt;
              &lt;div class="whenHero-"&gt;
                &lt;span class="firstName-"&gt;&lt;/span&gt;
                says: Don't worry.  I'll probably save you.
              &lt;/div&gt;
              &lt;div&gt;
                &lt;span class="firstName-"&gt;&lt;/span&gt;
                says: I've lost my memory.  I don't know who I am!
              &lt;/div&gt;
            &lt;/div&gt;
            </code></pre>

            <p>Any models in the collection without the named polymorphic attribute, or with an attribute
            value not specified with a <code>whenValue-</code> condition, will have this default template rendered
            for them when looping through the collection.</p>

            <h2>
            <a name="collection-attributes" class="anchor" href="#collection-attributes"><span class="octicon octicon-link"></span></a>Collection Attributes</h2>

            <p><em>Please note:</em> Backbone.Collection does <em>not</em> support attributes natively for its collections,
            but there are a number of options for extending collections to do so.  EndDash supports
            collection attributes as long as they are implemented according to Backbone.Model API, via
            the <code>get</code> method (which Backbone.Collection natively uses only for getting a model by id,
            not an attribute by name).  Typically collection attributes are used for metadata about
            the collection, such as total size (if the collection is paginated and this is
            different than length), as in the example below:</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"authorizedPeople-"</span> <span class="nt">&gt;</span>
              <span class="nt">&lt;p&gt;</span>
                There are <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"totalCount-"</span><span class="nt">&gt;&lt;/span&gt;</span> people allowed in Tony's basement.
              <span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <h1>
            <a name="conditionals" class="anchor" href="#conditionals"><span class="octicon octicon-link"></span></a>Conditionals</h1>

            <h2>
            <a name="ternary" class="anchor" href="#ternary"><span class="octicon octicon-link"></span></a>Ternary</h2>

            <p>A ternary operator is available for presence handling via 'truthiness' for attributes
            that may be present, with or without a false condition:</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"user- #{availabile ? openings : unavailable}"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <p>or just</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"user- #{availabile ? openings }"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <p>The full ternary with false condition will add the <code>available</code> class when availability is
            truth, and the <code>unavailable</code> class when falsy.  The second example will only add the
            <code>available</code> class when availability is truthy.</p>

            <h2>
            <a name="visibility-conditionals" class="anchor" href="#visibility-conditionals"><span class="octicon octicon-link"></span></a>Visibility Conditionals</h2>

            <p>EndDash has truthiness controls for conditional visibility. EndDash class elements that begin with <code>is</code> or <code>has</code>,
            (as well as their boolean opposites <code>isNot</code> and <code>hasNot</code>) will hide (via a <code>display:none</code> style attribute)
            the element when its named attribute, with its boolean evaluation prefix, is falsy ('isNotAvailable-' will return
            true if <code>!!model.get('available') === false</code>).</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"user-"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;p&gt;</span>
                My schedule is very full. <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"isAvailable-"</span><span class="nt">&gt;</span>I just have a few openings<span class="nt">&lt;/span&gt;</span>
              <span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <div class="highlight highlight-js"><pre><span class="nx">template</span><span class="p">.</span><span class="nx">bind</span><span class="p">({</span>
              <span class="nx">user</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">({</span>
                <span class="nx">firstName</span><span class="o">:</span> <span class="s1">'Tony'</span><span class="p">,</span>
                <span class="nx">lastName</span><span class="o">:</span> <span class="s1">'Stark'</span><span class="p">,</span>
                <span class="nx">alias</span><span class="o">:</span> <span class="s1">'IronMan'</span><span class="p">,</span>
                <span class="nx">available</span><span class="o">:</span> <span class="kc">false</span>
              <span class="p">});</span>
            <span class="p">});</span>
            </pre></div>

            <p>Outputs:</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"user-"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;p&gt;</span>
                My schedule is very full.
              <span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <h1>
            <a name="scoping" class="anchor" href="#scoping"><span class="octicon octicon-link"></span></a>Scoping</h1>

            <h2>
            <a name="what-is-scoping" class="anchor" href="#what-is-scoping"><span class="octicon octicon-link"></span></a>What is Scoping?</h2>

            <p>Scope in EndDash refers to the model on the top of the EndDash stack.
            Each template and partial is given its own scope. The 'root' scope is always the object passed
            to EndDash's 'bind' or 'getTemplate' function.</p>

            <div class="highlight highlight-js"><pre><span class="nx">template</span><span class="p">.</span><span class="nx">bind</span><span class="p">({</span>
              <span class="nx">user</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">({</span>
                <span class="nx">firstName</span><span class="o">:</span> <span class="s1">'Tony'</span><span class="p">,</span>
                <span class="nx">lastName</span><span class="o">:</span> <span class="s1">'Stark'</span><span class="p">,</span>
                <span class="nx">hobby</span><span class="o">:</span> <span class="p">{</span>
                  <span class="nx">description</span><span class="o">:</span> <span class="s1">'Building all the cool technology'</span>
                <span class="p">}</span>
              <span class="p">})</span>
            <span class="p">});</span>
            </pre></div>

            <p>The root object is the object literal with the property 'user'.</p>

            <p>Scope can change in two ways:</p>

            <h2>
            <a name="scoping-down-with-a-dash" class="anchor" href="#scoping-down-with-a-dash"><span class="octicon octicon-link"></span></a>Scoping Down With A Dash</h2>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'user-'</span><span class="nt">&gt;</span>
              //Internal HTML
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <p>Scopes into the Backbone Model with properties: 'firstName', 'lastName', and 'hobby'.
            This syntax only allows scopping down.</p>

            <h2>
            <a name="scoping-with-paths" class="anchor" href="#scoping-with-paths"><span class="octicon octicon-link"></span></a>Scoping With Paths</h2>

            <p>(UNIX style)</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'user-'</span><span class="nt">&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">data-scope=</span><span class="s">'/'</span><span class="nt">&gt;</span>
                //Iternal HTML
              <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <p>Scopes down into the user object and then, via the data-scope property, scopes back to the root object
            (the object literal with propery 'user').</p>

            <p>Normal UNIX path shorthands apply: <code>..</code> to move back up a scope level, <code>/</code> to seperate scope levels,
            <code>.</code> for the current scope'.</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'user-'</span><span class="nt">&gt;</span>
              //User scope
              <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'hobby-'</span><span class="nt">&gt;</span>
              //Hobby scope
                <span class="nt">&lt;div</span> <span class="na">data-scope=</span><span class="s">'../'</span><span class="nt">&gt;</span>
                //Back in User Scope
                  <span class="nt">&lt;div</span> <span class="na">data-scope=</span><span class="s">'/user/hobby'</span><span class="nt">&gt;</span>
                  //Back in Hobby scope
                  <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
              <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <p>'<code>class='user-'</code> is actually syntatic sugar for <code>data-scope='./user'</code>.  Using <code>data-scope</code> like this,
            at the current scope, is mainly useful for accessing a property of a nested model in the same DOM
            element that you change the scope.</p>

            <h1>
            <a name="presenters" class="anchor" href="#presenters"><span class="octicon octicon-link"></span></a>Presenters</h1>

            <p>If you wish to follow the Model-View-Presenter pattern, EndDash supports a hook
            to specify what presenter to use for a given model.  By default, this function
            simple returns the model itself, a simple identity function, but by passing in
            your own lookup function to <code>EndDash.setGetPresenter</code> EndDash will run your code
            instead to load a presenter if one is found.  Here's an example getPresenter
            function being defined and passed in to EndDash that looks for a custom presenter
            in config.presenterDirectory and uses a default base presenter or base collection
            presenter when no presenter specific to the model's name attribute is defined:</p>

            <div class="highlight highlight-js"><pre>  <span class="nx">getPresenter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">model</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">modelName</span> <span class="o">=</span> <span class="nx">inflection</span><span class="p">.</span><span class="nx">underscore</span><span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nx">name</span> <span class="o">||</span> <span class="s2">""</span><span class="p">)</span>
                  <span class="p">,</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">model</span><span class="p">.</span><span class="nx">cid</span>
                  <span class="p">,</span> <span class="nx">Presenter</span>
                  <span class="p">,</span> <span class="nx">basePresenter</span>

                <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">model</span> <span class="k">instanceof</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Model</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="nx">model</span> <span class="k">instanceof</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Collection</span><span class="p">))</span>
                  <span class="k">return</span> <span class="nx">model</span>
                <span class="c1">//give collections a unique id</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">model</span> <span class="k">instanceof</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Collection</span><span class="p">)</span> <span class="p">{</span>
                  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">model</span><span class="p">.</span><span class="nx">cid</span><span class="p">)</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">model</span><span class="p">.</span><span class="nx">cid</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">uniqueId</span><span class="p">(</span><span class="s2">"collection"</span><span class="p">)</span>
                  <span class="nx">basePresenter</span> <span class="o">=</span> <span class="s2">"/base_collection_presenter"</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                  <span class="nx">basePresenter</span> <span class="o">=</span> <span class="s2">"/base_presenter"</span>
                <span class="p">}</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">presenters</span><span class="p">[</span><span class="nx">id</span><span class="p">])</span> <span class="p">{</span>
                  <span class="k">return</span> <span class="nx">presenters</span><span class="p">[</span><span class="nx">id</span><span class="p">]</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                  <span class="k">try</span> <span class="p">{</span>
                    <span class="nx">Presenter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">presenterDirectory</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="nx">modelName</span> <span class="o">+</span> <span class="s2">"_presenter"</span><span class="p">)</span>
                  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">code</span> <span class="o">!==</span> <span class="s2">"MODULE_NOT_FOUND"</span><span class="p">)</span> <span class="p">{</span>
                      <span class="k">throw</span> <span class="nx">e</span>

                    <span class="p">}</span>
                    <span class="nx">Presenter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">presenterDirectory</span> <span class="o">+</span> <span class="nx">basePresenter</span><span class="p">)</span>
                  <span class="p">}</span>
                  <span class="k">return</span> <span class="nx">presenters</span><span class="p">[</span><span class="nx">id</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Presenter</span><span class="p">(</span><span class="nx">model</span><span class="p">)</span>
                <span class="p">}</span>
              <span class="p">}</span>

              <span class="nx">EndDash</span><span class="p">.</span><span class="nx">setGetPresenter</span><span class="p">(</span><span class="nx">getPresenter</span><span class="p">)</span>
            </pre></div>

            <p>Presenters are useful for wrapping the same model for use in different contexts, and for storing
            view specific state not intended to be saved to the server.  Taken further, models may be used as
            a repository for persisted data only, and presenters may be used for all behavior and view state,
            which is how we use them at Amicus.</p>

            <h1>
            <a name="view-integration" class="anchor" href="#view-integration"><span class="octicon octicon-link"></span></a>View Integration</h1>

            <p>EndDash provides dynamic behavior often otherwise handled by views in Backbone.
            If more specific dynamic behavior is required, take advantadge of EndDash's hooks to Backbone Views. Simply add
            the html attribute <code>data-view</code> with the value of your viewName, to the template.</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div&gt;</span>
              <span class="nt">&lt;h2&gt;</span>
                Configure Iron Man's suit below:
              <span class="nt">&lt;/h2&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"suit-"</span> <span class="na">data-view=</span><span class="s">"iron_man_suit_view"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"suitConfig"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            </pre></div>

            <p>When EndDash runs into a <code>data-view</code>, it will lookup the view and initalize it with the model
            in scope.</p>

            <p>To lookup the view, EndDash uses a simple view store. You can register views by
            calling <code>EndDash.registerView</code> with the view name and the view class object. You can
            also define your own function and pass it into <code>EndDash.setCustomGetView</code></p>

            <div class="highlight highlight-js"><pre><span class="nx">EndDash</span><span class="p">.</span><span class="nx">registerView</span><span class="p">(</span><span class="s1">'myViewName'</span><span class="p">,</span> <span class="nx">viewObj</span><span class="p">);</span>
            </pre></div>

            <div class="highlight highlight-js"><pre><span class="kd">var</span> <span class="nx">views</span> <span class="o">=</span> <span class="p">{},</span>
                <span class="nx">getViews</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
                  <span class="k">return</span> <span class="nx">views</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>
            <span class="p">};</span>
            <span class="nx">EndDash</span><span class="p">.</span><span class="nx">setCustomGetView</span><span class="p">(</span><span class="nx">getViews</span><span class="p">);</span>
            </pre></div>

            <h1>
            <a name="partials" class="anchor" href="#partials"><span class="octicon octicon-link"></span></a>Partials</h1>

            <p>Small, reusable components of HTML can be templated in EndDash as partials.
            To use a partial, add <code>src='templateName'</code> as an attribute to an element with no children.</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">src=</span><span class="s">'myPartial'</span> <span class="na">data-replace</span><span class="nt">&gt;&lt;/div&gt;</span>
            </pre></div>

            <p>The <code>data-replace</code> attribute tells EndDash to substitute the partial's root element for this element.
            Without <code>data-replace</code>, EndDash will embed the root element beneath the partial's element and leave it.</p>

            <p>Load the partial you are referencing into EndDash before binding to the template.</p>

            <h1>
            <a name="debugger" class="anchor" href="#debugger"><span class="octicon octicon-link"></span></a>Debugger</h1>

            <h2>
            <a name="debugging" class="anchor" href="#debugging"><span class="octicon octicon-link"></span></a>Debugging</h2>

            <p>Open up a debugger in development mode to inspect the context of the
            template.</p>

            <p>Open a context in the highest template scope:</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;body&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">debugger</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/body&gt;</span>
            </pre></div>

            <p>In a child model scope:</p>

            <div class="highlight highlight-html"><pre><span class="nt">&lt;body&gt;</span>
              <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"questions-"</span><span class="nt">&gt;</span>
                <span class="c">&lt;!-- Open a debugger in the scope of get('questions') --&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">debugger</span> <span class="nt">/&gt;</span>
              <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/body&gt;</span>
            </pre></div></article>

        <footer>
            <h1>cool riding, crazy horse</h1>
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X');ga('send','pageview');
        </script>
    </body>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="http://underscorejs.org/underscore.js"></script>
    <script src="http://backbonejs.org/backbone.js"></script>
    <script src="js/interaction.js"></script>
    <script src="js/end-dash.min.js"></script>
    <script type="text/enddash" name="suitColor">
    <div>
      <input type="radio" class="color-" name="color-" value="Red" id="classic"/>
      <label for="classic">Classic</label>
      <input type="radio" class="color-" name="color-" value="Brown" id="brown"/>
      <label for="brown">Brown</label>
      <input type="radio" class="color-" name="color-" value="Pink" id="pink"/>
      <label for="pink">Pink</label>
      <p>The <span class='#{color}' style='color:#{color}'>Iron Man suit</span> is <span class="color-"></span></p>
    </div>

    </script>

    <script type="text/javascript">
    $(function() {
      // Load all the templates on the page.
      EndDash.bootstrap();

      var color = new Backbone.Model({
        color: 'Red'
      });

      var template = EndDash.getTemplate('suitColor', color);

      $('#attributes').html(template.el);
    });
    </script>
  <script type="text/enddash" name="inputName">
    <div>
      <p>
        What is your name?
        <input  type="text" class="name-">
      </p>
      <p>
        Your name is <span class='name-'></span>.
      </p>
    </div>
  </script>

  <script type="text/enddash" name="whichCharacter">
  <div>
    <p>Love to hate?</p>
    <input type="checkbox" class="disliked-"/>
    <p>Who is your <span class="isDisliked-">least</span> favorite character?</p>
    <input type="radio" class="name-" name="name-" value="Tony" id="tony"/>
    <label for="tony">Tony</label>
    <input type="radio" class="name-" name="name-" value="Pepper" id="pepper"/>
    <label for="pepper">Pepper</label>
    <input type="radio" class="name-" name="name-" value="James" id="james"/>
    <label for="james">James</label>
    <p>Wow! Your <span class="isDisliked-">least</span> favorite character is <span class='name-'></name></p>
  </div>
  </script>

  <script type="text/javascript">
    $(function() {
      // Load all the templates on the page.
      EndDash.bootstrap();

      var you = new Backbone.Model({
        name: 'YourName',
      });

      var extremeCharacter = new Backbone.Model({
        name: 'Tony'
      });

      var template = EndDash.getTemplate('inputName', you),
          template2 = EndDash.getTemplate('whichCharacter', extremeCharacter);

      $('#inputs').html(template.el);
      $('#inputs2').html(template2.el);
    });
  </script>

  <script type="text/javascript">
    $(function() {
      // Load all the templates on the page.
      var render = function(){
        try {
          var modelText = $('#model-edit').text(),
              templateText = $('#template-edit').text();
          EndDash.registerTemplate('custom', templateText);

          var template = EndDash.getTemplate('custom', eval(modelText));
          $('#user-edit').html(template.el);
        }
        catch(error) {
           console.log("Error occurred:", error)
        }
      };
      render();
      $('#model-edit').on('change keyup keydown', render);
      $('#template-edit').on('change keyup keydown', render);

    });
  </script>
</html>